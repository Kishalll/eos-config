windowrule = match:class .*portal.*, float 1, center 1, size 70% 70%
windowrule = match:class .*FileChooser.*, float 1, center 1, size 70% 70%

# -----------------------------------------------------
# WINDOW RULES (Full Restored Setup)
# -----------------------------------------------------

# --- 1. FILE PICKER FIXES (Optimized) ---
windowrule = match:title (.*)(Open File)(.*), float 1
windowrule = match:title (.*)(Select a File)(.*), float 1
windowrule = match:title (.*)(Choose wallpaper)(.*), float 1
windowrule = match:title (.*)(Open Folder)(.*), float 1
windowrule = match:title (.*)(Save As)(.*), float 1
windowrule = match:title (.*)(Library)(.*), float 1
windowrule = match:title (.*)(File Upload)(.*), float 1
windowrule = match:title (.*)(wants to save)(.*), float 1
windowrule = match:title (.*)(wants to open)(.*), float 1

windowrule = match:title (.*)(Open File)(.*), size 70% 70%
windowrule = match:title (.*)(Select a File)(.*), size 70% 70%
windowrule = match:title (.*)(Save As)(.*), size 70% 70%
windowrule = match:title (.*)(Open File)(.*), center 1
windowrule = match:title (.*)(Select a File)(.*), center 1

# --- 2. PORTAL FIXES (Prevent Freezes) ---
windowrule = match:class (xdg-desktop-portal-gtk), float 1
windowrule = match:class (xdg-desktop-portal-gtk), size 70% 70%
#windowrule = match:class (xdg-desktop-portal-gtk), dimaround 1

windowrule = match:class (org.freedesktop.impl.portal.desktop.kde), float 1
windowrule = match:class (org.freedesktop.impl.portal.desktop.kde), size 70% 70%
windowrule = match:class (org.freedesktop.impl.portal.desktop.kde), center 1
#windowrule = match:class (org.freedesktop.impl.portal.desktop.kde), dimaround 1

# --- 3. FLOATING APPS ---
windowrule = match:class ^(pavucontrol)$, float 1
windowrule = match:class ^(org.pulseaudio.pavucontrol)$, float 1
windowrule = match:class ^(nm-connection-editor)$, float 1
windowrule = match:class ^(blueberry\.py)$, float 1
windowrule = match:class ^(guifetch)$, float 1

windowrule = match:class ^(pavucontrol)$, size 45% 50%
windowrule = match:class ^(org.pulseaudio.pavucontrol)$, size 45% 50%

windowrule = match:class ^(illogical-impulse Settings)$, float 1
windowrule = match:title ^(illogical-impulse Settings)$, float 1

windowrule = match:class ^(Zotero)$, float 1
windowrule = match:class ^(Zotero)$, size 45% 50%

# --- 4. PLASMA / KDE RULES (Restored) ---
windowrule = match:class (.*plasmawindowed.*), float 1
windowrule = match:class (kcm_.*), float 1
windowrule = match:class (.*bluedevilwizard), float 1
windowrule = match:title (.*Welcome), float 1
windowrule = match:title (.*Shell conflicts.*), float 1

windowrule = match:class ^(plasma-changeicons)$, float 1
#windowrule = match:class ^(plasma-changeicons)$, noinitialfocus 1
windowrule = match:class ^(plasma-changeicons)$, move 999999 999999
windowrule = match:title ^(Copying â€” Dolphin)$, move 40 80

# --- 5. TILING OVERRIDES ---
windowrule = match:class ^(dev\.warp\.Warp)$, tile 1

# --- 6. EXTRAS ---
windowrule = match:title ^(.*is sharing your screen\.)$, float 1
windowrule = match:title ^(.*is sharing your screen\.)$, pin 1
windowrule = match:title ^(.*is sharing your screen\.)$, move 100%-w-10 100%-w-10

windowrule = match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$, float 1
windowrule = match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$, pin 1
windowrule = match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$, move 73% 72%
windowrule = match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$, size 25% 25%

windowrule = match:class ^(steam_app).*, immediate 1
windowrule = match:title .*\.exe, immediate 1
windowrule = match:title .*minecraft.*, immediate 1

#windowrule = match:class .*, noshadow 1


workspace = special:special, gapsout:30

