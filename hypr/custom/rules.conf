# You can put custom rules here
# Window/layer rules: https://wiki.hyprland.org/Configuring/Window-Rules/
# Workspace rules: https://wiki.hyprland.org/Configuring/Workspace-Rules/
# -----------------------------------------------------
# 1. FORCE FLOATING FILE PICKERS (High Priority)
# -----------------------------------------------------
# Match the specific KDE portal class found in hyprctl
windowrulev2 = float, class:^(org.freedesktop.impl.portal.desktop.kde)$
windowrulev2 = size 60% 60%, class:^(org.freedesktop.impl.portal.desktop.kde)$
windowrulev2 = center, class:^(org.freedesktop.impl.portal.desktop.kde)$

# Catch-all for other "Portal" windows (Brave/Chrome often use these)
windowrulev2 = float, class:^(xdg-desktop-portal)(.*)$
windowrulev2 = size 60% 60%, class:^(xdg-desktop-portal)(.*)$
windowrulev2 = center, class:^(xdg-desktop-portal)(.*)$

# Match by Title (Backup for windows that change identity later)
windowrulev2 = float, title:^(.*wants to open)$
windowrulev2 = float, title:^(.*wants to save)$
windowrulev2 = size 60% 60%, title:^(.*wants to open)$
windowrulev2 = size 60% 60%, title:^(.*wants to save)$

# -----------------------------------------------------
# 2. GOOGLE MEET "SHARING" POPUP FIX
# -----------------------------------------------------
# Force the "is sharing your screen" popup to float and move off-screen
windowrulev2 = float, title:^(.*is sharing your screen\.)$
windowrulev2 = move 100% 100%, title:^(.*is sharing your screen\.)$
windowrulev2 = nofocus, title:^(.*is sharing your screen\.)$
# Prevent it from stealing focus when it spawns
windowrulev2 = noinitialfocus, title:^(.*is sharing your screen\.)$
